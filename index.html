<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS Toggles demo</title>
  <link rel="stylesheet" href="https://unpkg.com/open-props"/>
  <link rel="stylesheet" href="base.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
</head>

<body>
  <header>
    <h1>CSS Toggles (in JS)</h1>
    <nav>
      <a href="https://css.oddbird.net/toggles/explainer/">Explainer</a>
      <a href="https://tabatkins.github.io/css-toggle/">Draft Spec</a>
      <a href="https://github.com/oddbird/css-toggles">Polyfill</a>
      <a href="https://github.com/oddbird/css-toggles/issues">Issues</a>
    </nav>
  </header>

  <section>
    <h2>Global color toggle</h2>
    <button class="mode-btn">colors</button>
    <pre>html {
  toggle-root: mode [auto light dark];
}

html:toggle(mode light) { ... }
html:toggle(mode dark) { ... }

.mode-btn {
  toggle-trigger: mode;
}</pre>
  </section>

  <section>
    <h2>Binary self-toggle switches</h2>
    <ul class='todo'>
      <li>write an explainer</li>
      <li>draft a specification</li>
      <li>create a polyfill</li>
      <li>make a demo page</li>
    </ul>
    <pre>.todo li {
  toggle: todo self;
}

.todo li::marker {
  content: '‚ùå ';
}

.todo li:toggle(todo)::marker {
  content: '‚úÖ ';
}</pre>
  </section>

  <section>
    <h2>Accordion/disclosure components</h2>
    <dl class='accordion'>

      <dt>Establish a toggle</dt>
      <dd><pre>.accordion>dt {
  toggle: glossary;
}</pre></dd>

      <dt>Toggle item visibility</dt>
      <dd><pre>.accordion>dd {
  toggle-visibility: toggle glossary;
}</pre></dd>

      <dt>Style the summary</dt>
      <dd><pre>.accordion>dt::marker {
  content: 'üëâüèΩ ';
}

.accordion>dt:toggle(glossary) {
  background-color: var(--brand);
  color: var(--bg);
}

.accordion>dt:toggle(glossary)::marker {
  content: 'üëáüèΩ ';
}
</pre></dd>
    </dl>
  </section>

  <section>
    <h2>Tree view</h2>
    <ul class="tree">
      <li><a href='#'>home</a></li>
      <li>
        <button class='nested'>resources</button>
        <ul>
          <li><a href='#'>articles</a></li>
          <li><a href='#'>demos</a></li>
          <li>
            <button class='nested'>media</button>
            <ul>
              <li><a href='#'>audio</a></li>
              <li><a href='#'>visual</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <pre>.nested {
  toggle: tree;
}

.nested+ul {
  toggle-visibility: toggle tree;
}</pre>
  </section>

  <section>
    <h2>Tabs or exclusive accordions</h2>
    <p class="issue">
      <a href="https://github.com/oddbird/css-toggles/issues/9">issue 9</a>:
      Not possible to change initial state for one toggle in a group.
    </p>
    <panel-set>
      <panel-tab>Establishing Tabs</panel-tab>
      <panel-card><pre>panel-tab {
  toggle: tab 1 at 0 group sticky;
  grid-row: tab;
}</pre></panel-card>

      <panel-tab>Styling Content</panel-tab>
      <panel-card><pre>panel-tab:toggle(tab) {
  background-color: var(--callout);
}

panel-card {
  toggle-visibility: toggle tab;
  grid-area: card;
}</pre></panel-card>
    </panel-set>
  </section>

  <section>
    <h2>Named states</h2>
    <div class="colors">
      <button>Cycle</button>
      <button class="grape">Grape</button>
      <button class="green">Green</button>
      <button class="blue">Blue</button>
      <button class="red">Red</button>
      <pre class="show-colors">.colors {
  toggle-root: colors [grape green blue red] at blue;
}

.colors button {
  toggle-trigger: colors;
}

/* for each color */
.colors button.grape {
  toggle-trigger: colors grape;
}

.show-colors:toggle(colors grape) {
  background-color: var(--grape-9);
}
</pre>
    </div>
  </section>

  <section>
    <h2>State machine transitions</h2>
    <div class="request">
      <button data-do="try">Try</button>
      <button data-do="resolve">Resolve</button>
      <button data-do="reject">Reject</button>
      <div class="status"></div>
    </div>
    <pre>@machine request {
  idle {
    try: loading;
  }
  loading {
    resolve: success;
    reject: failure;
  }
  failure {
    try: loading;
  }
  success {}
}

.request {
  toggle-root: machine(request);
}

.request button[data-do="try"] {
  toggle-trigger: request do(try);
}

.request button[data-do="resolve"] {
  toggle-trigger: request do(resolve);
}

.request button[data-do="reject"] {
  toggle-trigger: request do(reject);
}
</pre>
  </section>

  <script src="index.js" type="module"></script>
</body>

</html>
